(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{446:function(s,t,a){"use strict";a.r(t);var n=a(3),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"初入门庭"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#初入门庭"}},[s._v("#")]),s._v(" 初入门庭")]),s._v(" "),t("p",[s._v("安装 "),t("code",[s._v("vuepress")]),s._v("是非常简单的事儿。建议全局安装vuepress，然后再本地安装其它部分。官方文档就写的很清楚了，不再赘述。")]),s._v(" "),t("p",[s._v("但是安装完了之后，惊叹一下，这是什么鬼。整个官方文档都在写怎么安装，根本没写怎么写，对编写的markdown有什么要求？对于用过hexo的人来说，我知道应该差不多，但是就愣没人写该怎么玩儿，我也是醉了。")]),s._v(" "),t("p",[s._v("好吧，看了诸多资料以后，可以确定，如果要用vuepress来发布静态博客，需要安装对应的blog主题，比如官方的blog主题 "),t("a",{attrs:{href:"https://vuepress.vuejs.org/zh/theme/blog-theme.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("@vuepress/theme-blog"),t("OutboundLink")],1),s._v("，或者另一个较为完善的主题 "),t("a",{attrs:{href:"https://vuepress-theme-reco.recoluan.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("vuepress-theme-reco"),t("OutboundLink")],1),s._v("。")]),s._v(" "),t("p",[s._v("使用"),t("code",[s._v("vuepress-theme-reco")]),s._v("后，跟使用"),t("code",[s._v("hexo")]),s._v("的习惯就差不多了。每个markdown前面要放一个"),t("code",[s._v("toc")]),s._v("头来标记 标题、分类、tag、日期时间。然后目录结构呢，可以在"),t("code",[s._v("docs")]),s._v("下随便放，建多级目录也可以，会根据markdown中的分类来更新nav菜单。")]),s._v(" "),t("blockquote",[t("p",[s._v("你看，关于blog 的 "),t("a",{attrs:{href:"https://vuepress-theme-blog.ulivz.com/config/front-matter",target:"_blank",rel:"noopener noreferrer"}},[s._v("frontmatter"),t("OutboundLink")],1),s._v(" 这么点事儿非要写在主题文档中。说明vuepress的初衷只是软件文档，并非blog。")]),s._v(" "),t("p",[s._v("另外，官方也并没有 cli 工具可以 new post 来帮你快速创建一个文件模板。差评。有人写了一个 "),t("a",{attrs:{href:"https://github.com/vxhly/vuepress-article-cli",target:"_blank",rel:"noopener noreferrer"}},[s._v("vuepress-article-cli"),t("OutboundLink")],1),s._v("，感兴趣的同学可以用一下。")])]),s._v(" "),t("h2",{attrs:{id:"踩坑记录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#踩坑记录"}},[s._v("#")]),s._v(" 踩坑记录")]),s._v(" "),t("h3",{attrs:{id:"时间格式问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#时间格式问题"}},[s._v("#")]),s._v(" 时间格式问题：")]),s._v(" "),t("p",[s._v("vuepress没有时区设置，用到时间的地方都是拿一个时间对象在转来转去。当同时使用 "),t("code",[s._v("@vuepress/last-updated")]),s._v("  和  "),t("code",[s._v("vuepress-plugin-sitemap")]),s._v(" 一起使用时会在build时报错：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v(" SITEMAP  Generating sitemap...\nerror vuepress-plugin-sitemap apply generated failed.\nRangeError: Invalid time value\n    at Date.toISOString (<anonymous>)\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("因为如果按照官方文档的示例，把"),t("code",[s._v("@vuepress/last-updated")]),s._v("配置成下面这个样子的话：")]),s._v(" "),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[s._v("    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"@vuepress/last-updated"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        transformer"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" (timestamp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" lang) => "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 不要忘了安装 moment")]),s._v("\n          const moment = require("),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"moment"')]),s._v(")\n          moment.locale(lang)\n          return moment(timestamp).fromNow()\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("p",[s._v("那么显示的最后修改时间就会显示成诸如”2天前“，”2小时前“这样。但是，问题就来了，"),t("code",[s._v("vuepress-plugin-sitemap")]),s._v("就解析不了这种时间格式了，所以，有两个方案，一个是修改"),t("code",[s._v("config.js")]),s._v("，将"),t("code",[s._v("vuepress-plugin-sitemap")]),s._v("的时间属性"),t("code",[s._v("dateFormatter")]),s._v("定义成当前时间，代码如下：")]),s._v(" "),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[s._v("    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n      'sitemap'"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        hostname"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" 'https"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//www.wkii.org',")]),s._v("\n        dateFormatter"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" val => "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n          return new Date().toISOString()\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("p",[s._v("但这个方法带来的问题是sitemap中，每个文章的更新时间都成了最后你发布的时间。显然有点假，这不是我想要的，还有另一种办法，把"),t("code",[s._v("@vuepress/last-updated")]),s._v("的时间格式修改成能被js的date(time).toISOString方法识别的格式，且视觉上也能接受的格式，如"),t("code",[s._v("Sat May 16 2020 23:21:50 GMT+0800")]),s._v("这样的格式，即可解决last-updated和sitemap里时间的格式问题，build也能正常了，配置代码如下：")]),s._v(" "),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[s._v("    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n      '@vuepress/last-updated'"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        transformer"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" (timestamp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" lang) => "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//return (new Date(timestamp)).toUTCString() 或者用下面这段")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 不要忘了安装 moment")]),s._v("\n          const moment = require('moment')\n          moment.locale(lang)\n          return moment(timestamp).toString()\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("h3",{attrs:{id:"nav菜单设置rss的bug"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nav菜单设置rss的bug"}},[s._v("#")]),s._v(" nav菜单设置RSS的bug")]),s._v(" "),t("p",[s._v("现象：设置菜单")]),s._v(" "),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" text"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" 'RSS'"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" link"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" 'rss.xml'"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("解析出来的菜单会变成 "),t("code",[s._v("rss.xml.html")]),s._v("，画蛇添足的加上一个"),t("code",[s._v(".html")]),s._v("后缀。"),t("br"),s._v("\n这个目前已经有人提了issues，等着修复吧。")]),s._v(" "),t("h3",{attrs:{id:"部署到github-pages和持续集成"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#部署到github-pages和持续集成"}},[s._v("#")]),s._v(" 部署到Github Pages和持续集成")]),s._v(" "),t("p",[s._v("这里需要一点背景知识，Github Pages有两种类型：")]),s._v(" "),t("ul",[t("li",[s._v("个人或组织站点，访问地址为 "),t("code",[s._v("https://<name>.github.io")])]),s._v(" "),t("li",[s._v("项目站点，访问地址为 "),t("code",[s._v("https://<name>.giothub.io/<repo>")])])]),s._v(" "),t("p",[s._v("如果是个人站点，发布html的分支必须是 "),t("code",[s._v("master")]),s._v(" ，而项目站点则没有这个要求。原文是")]),s._v(" "),t("blockquote",[t("p",[s._v("User pages must be built from the "),t("code",[s._v("master")]),s._v(" branch.")])]),s._v(" "),t("p",[s._v("而根据以往经验，项目站点的发布分支可以是 "),t("code",[s._v("gh_pages")]),s._v(" 分支（最早的约定）， 可以是"),t("code",[s._v("master")]),s._v("分支，也可以是 "),t("code",[s._v("master")]),s._v(" 分支下的 "),t("code",[s._v("docs")]),s._v(" 文件夹。")]),s._v(" "),t("p",[s._v("站点类型这个站点类型决定了部署时的一些设置，影响范围有以下文件：")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("docs/vuepress/.config.js")])]),s._v(" "),t("li",[t("code",[s._v("deploy.sh")])]),s._v(" "),t("li",[t("code",[s._v(".travis.yml")])])]),s._v(" "),t("p",[s._v("看具体配置：")]),s._v(" "),t("ol",[t("li",[s._v("在 "),t("code",[s._v("docs/vuepress/.config.js")]),s._v(" 中配置 "),t("code",[s._v("base")]),s._v(" 时请按照以下规则：")])]),s._v(" "),t("div",{staticClass:"language-markdown line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-markdown"}},[t("code",[t("span",{pre:!0,attrs:{class:"token list punctuation"}},[s._v("1.")]),s._v(" 如果使用github 个人站点或组织站点，访问域名为 https://"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("username")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(".github.io 或 https://"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("organization")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(".github.io 时，base 设置为: /\n"),t("span",{pre:!0,attrs:{class:"token list punctuation"}},[s._v("2.")]),s._v(" 如果使用github 项目站点，访问域名为 https://"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("username")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(".github.io/"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("repo")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("/ 时，base 设置为项目仓库名，如: blog_page\n"),t("span",{pre:!0,attrs:{class:"token list punctuation"}},[s._v("3.")]),s._v(" 如果使用github 项目站点，但是绑定了域名时， base 设置为: /\n参考：https://help.github.com/cn/github/working-with-github-pages/creating-a-github-pages-site\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("ol",{attrs:{start:"2"}},[t("li",[t("code",[s._v("deploy.sh")]),s._v(" 手动部署脚本")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/usr/bin/env sh")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 确保脚本抛出遇到的错误")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-e")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 生成静态文件")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run docs:build\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入生成的文件夹")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" docs/.vuepress/dist\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果是发布到自定义域名")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# echo 'www.example.com' > CNAME")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" init\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-A")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" commit "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-m")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'deploy'")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果发布到 https://<USERNAME>.github.io  (这是个人或组织类站点)")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# git push -f git@github.com:<USERNAME>/<USERNAME>.github.io.git master")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果发布到 https://<USERNAME>.github.io/<REPO>  （这是项目类站点）")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# git push -f git@github.com:<USERNAME>/<REPO>.git master:gh-pages")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v(" git@github.com:wkii/blog_page.git master:gh-pages\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" -\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br")])]),t("ol",{attrs:{start:"3"}},[t("li",[t("p",[s._v("使用Travis-ci 自动化部署配置，配置文件需要在项目根目录创建一个文件"),t("code",[s._v(".travis.yml")])]),s._v(" "),t("p",[s._v("有没有人跟我一样，比对了半天文件名，却没注意前面缺了个点，试了半天都不好使😂")])])]),s._v(" "),t("div",{staticClass:"language-yaml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("language")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" node_js\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("node_js")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" lts/*\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("cache")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("directories")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" node_modules\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("yarn")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("true")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("before_install")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" export TZ='Asia/Shanghai' "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置时区")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("install")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" yarn install\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("script")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" yarn docs"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("build\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("deploy")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("provider")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" pages\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("skip-cleanup")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("true")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("local_dir")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" docs/.vuepress/dist\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("github-token")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" $GITHUB_TOKEN "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在 GitHub 中生成，用于允许 Travis 向你的仓库推送代码。在 Travis 的项目设置页面进行配置，设置为 secure variable")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("target-branch")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" gh"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("pages "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 要部署的分支")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("verbose")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("true")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("keep-history")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("true")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" wkii\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("email")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" digihero@gmail.com\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("on")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("branch")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" master "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 源文件所在的分支")]),s._v("\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br")])]),t("p",[s._v("然后如何使用travis-ci，可参考vhxly写的"),t("a",{attrs:{href:"https://vxhly.github.io/views/nodejs/vuepress-blog-on-github.html#%E8%87%AA%E5%8A%A8%E5%8C%96%E9%83%A8%E7%BD%B2",target:"_blank",rel:"noopener noreferrer"}},[s._v("自动化部署"),t("OutboundLink")],1),s._v("部分。")]),s._v(" "),t("h3",{attrs:{id:"使用readme-md"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用readme-md"}},[s._v("#")]),s._v(" 使用README.md")]),s._v(" "),t("p",[s._v("如果要使用README.md（例如放一些文字图片说明），则可以再写一个"),t("code",[s._v("index.md")]),s._v("用于存放之前给README.md的内容。")]),s._v(" "),t("p",[s._v("index.md用于存放Front Matter，README.md 用于存放项目说明。")]),s._v(" "),t("h2",{attrs:{id:"下一步计划"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#下一步计划"}},[s._v("#")]),s._v(" 下一步计划")]),s._v(" "),t("ul",[t("li",[s._v("[x] 使用Travis CI 持续集成部署")]),s._v(" "),t("li",[s._v("[x] 把主题色系换成蓝色。我还是喜欢ant.design的蓝色系。")])])])}),[],!1,null,null,null);t.default=e.exports}}]);